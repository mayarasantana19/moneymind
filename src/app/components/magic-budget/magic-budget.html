<section class="magic-budget-section">
  <h2>MÃ©todo 50/30/20: OrÃ§amento MÃ¡gico</h2>
  <p>Insira sua renda lÃ­quida mensal e veja como o "OrÃ§amento MÃ¡gico" divide seu dinheiro automaticamente.</p>

  <div class="input-box">
    <!-- RÃ³tulo do campo -->
    <label for="renda">Sua Renda Mensal LÃ­quida (R$):</label>
    
    <!-- DISPLAY GRANDE DE VALOR (VISÃVEL) -->
    <!-- FIX: Chamar a signal rendaMensal() para obter o valor que o pipe espera. -->
    <div class="input-value-display">
      {{ rendaMensal() | currency:'BRL':'symbol':'1.2-2' }}
    </div>

    <!-- INPUT INVISÃVEL E CLICÃVEL (FUNCIONAL) -->
    <!-- Este input fica por cima do display e Ã© onde a digitaÃ§Ã£o real acontece -->
    <input 
      id="renda" 
      type="number" 
      [(ngModel)]="rendaMensal" 
      min="0"
      placeholder="0"
    >
  </div>

  <div class="allocation-cards-container">
    <!-- Card 50% - Necessidades Essenciais -->
    <div class="card red">
      <div class="header-card">LIMITE MÃXIMO (50%)</div>
      <!-- O resultado do computed signal (necessidadesValor) jÃ¡ Ã© chamado como funÃ§Ã£o -->
      <div class="value-card red-text">
        {{ necessidadesValor() | currency:'BRL':'symbol':'1.2-2' }}
      </div>
      <span class="icon">ğŸ </span>
      <h3>Necessidades Essenciais</h3>
      <p>Aluguel, contas fixas, alimentaÃ§Ã£o bÃ¡sica, transporte. NÃ£o deve ser ultrapassado.</p>
    </div>

    <!-- Card 30% - Desejos Pessoais -->
    <div class="card yellow">
      <div class="header-card">MARGEM DE GASTO (30%)</div>
      <!-- O resultado do computed signal (desejosValor) jÃ¡ Ã© chamado como funÃ§Ã£o -->
      <div class="value-card yellow-text">
        {{ desejosValor() | currency:'BRL':'symbol':'1.2-2' }}
      </div>
      <span class="icon">ğŸ›ï¸</span>
      <h3>Desejos Pessoais</h3>
      <p>Lazer, entretenimento, jantares fora, compras nÃ£o essenciais.</p>
    </div>

    <!-- Card 20% - Metas Financeiras -->
    <div class="card green">
      <div class="header-card">FOCO NO FUTURO (20%)</div>
      <!-- O resultado do computed signal (metasValor) jÃ¡ Ã© chamado como funÃ§Ã£o -->
      <div class="value-card green-text">
        {{ metasValor() | currency:'BRL':'symbol':'1.2-2' }}
      </div>
      <span class="icon">ğŸ’°</span>
      <h3>Metas Financeiras</h3>
      <p>Reserva de EmergÃªncia, pagamento de dÃ­vidas e investimentos de longo prazo.</p>
    </div>
  </div>
</section>
